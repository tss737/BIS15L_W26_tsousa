library("tidyverse")
library("janitor")
elephants <- read_csv("data/elephants.csv") %>%
clean_names() %>%
mutate(across(where(is.character), as.factor))
~mean(.x,na.rm=T))
elephants %>%
summarize(across(where(is.numeric),
~mean(.x,na.rm=T)))
elephants %>%
summarize(across(where(is.numeric),
~mean(.x,na.rm=T)))
elephants %>%
summarize(across(where(is.numeric),
~mean(.x,na.rm=T)))
elephants %>%
summarize(
across(
where(is.numeric),
list(
mean   = ~mean(.x, na.rm = TRUE),
median = ~median(.x, na.rm = TRUE),
sd     = ~sd(.x, na.rm = TRUE),
min    = ~min(.x, na.rm = TRUE),
max    = ~max(.x, na.rm = TRUE),
n      = ~sum(!is.na(.x))
)
)
)
elephants %>%
group_by(sex)
elephants %>%
group_by(sex) %>%
summarize(across(where(is.numeric),
~mean(.x,na.rm=T)))
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(mean_estimated_age_years=mean(estimated_age_years, na.rm=T), n=n())
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(mean_estimated_age_years=mean(estimated_age_years, na.rm=T), n=n(), .groups='keep')
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(mean_estimated_age_years=mean(estimated_age_years, na.rm=T), n=n(), .groups='keep') %>%
arrange(sex)
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(mean_age = mean(estimated_age_years))
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(mean_age = mean(estimated_age_years, na.rm=T))
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(mean_age = mean(estimated_age_years, na.rm=T),
median_age=median(estimated_age_years, na.rm=T))
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(mean_age=mean(estimated_age_years, na.rm=T),
median_age=median(estimated_age_years, na.rm=T))
elephants %>%
filter(years_of_sample_collection=="1966-68") %>%
group_by(sex) %>%
summarize(mean_age=mean(estimated_age_years, na.rm=T),
median_age=median(estimated_age_years, na.rm=T))
elephants %>%
filter(years_of_sample_collection=="1966-68") %>%
group_by(sex) %>%
summarize(mean_age=mean(estimated_age_years, na.rm=T),
median_age=median(estimated_age_years, na.rm=T),
sd_age=sd(estimated_age_years, na.rm=T))
elephants %>%
filter(years_of_sample_collection=="2005-13") %>%
group_by(sex) %>%
summarize(mean_age=mean(estimated_age_years, na.rm=T),
median_age=median(estimated_age_years, na.rm=T),
sd_age=sd(estimated_age_years, na.rm=T))
elephants %>%
group_by(sex, years_of_sample_collection) %>%
summarize(mean_age=mean(estimated_age_years, na.rm=T),
median_age=median(estimated_age_years, na.rm=T),
sd_age=sd(estimated_age_years, na.rm=T),
.groups='keep')
names(msleep)
glimpse(msleep)
msleep %>%
group_by(vore)
msleep %>%
group_by(vore) %>%
summarize(min_bodywt=min(bodywt, na.rm=T),
max_bodywt=max(bodywt, na.rm=T),
mean_bodywt=mean(bodywt, na.rm=T))
msleep %>%
group_by(oder) %>%
summarize(min_brainwt=min(brainwt, na.rm=T),
max_brainwt=max(bodywt, na.rm=T),
mean_brainwt=mean(bodywt, na.rm=T))
msleep %>%
group_by(oder) %>%
summarize(min_brainwt=min(brainwt),
max_brainwt=max(bodywt),
mean_brainwt=mean(bodywt))
msleep %>%
group_by(order) %>%
summarize(min_brainwt=min(brainwt, na.rm=T),
max_brainwt=max(bodywt, na.rm=T),
mean_brainwt=mean(bodywt, na.rm=T))
msleep %>%
group_by(order) %>%
summarize(min_brainwt=min(brainwt),
max_brainwt=max(bodywt),
mean_brainwt=mean(bodywt))
msleep %>%
group_by(order) %>%
summarize(min_brainwt=min(brainwt, na.rm=T),
max_brainwt=max(bodywt, na.rm=T),
mean_brainwt=mean(bodywt, na.rm=T))
msleep %>%
filter(order=="Cetacea")
msleep %>%
group_by(order) %>%
summarize(min_brainwt=min(brainwt),
max_brainwt=max(brainwt),
mean_brainwt=mean(brainwt))
msleep %>%
group_by(order) %>%
summarize(min_brainwt=min(brainwt, na.rm=T),
max_brainwt=max(brainwt, na.rm=T),
mean_brainwt=mean(brainwt, na.rm=T))
msleep %>%
group_by(vore) %>%
summarize(min_bodywt=min(bodywt, na.rm=T),
max_bodywt=max(bodywt, na.rm=T),
mean_bodywt=mean(bodywt, na.rm=T),
n=n())
msleep %>%
group_by(order) %>%
summarize(min_brainwt=min(brainwt),
max_brainwt=max(brainwt),
mean_brainwt=mean(brainwt),
n=n())
msleep %>%
group_by(order) %>%
summarize(min_brainwt=min(brainwt, na.rm=T),
max_brainwt=max(brainwt, na.rm=T),
mean_brainwt=mean(brainwt, na.rm=T),
n=n())
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt))
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt, na.rm=T),
n=n())
library("tidyverse")
library("janitor")
#library("naniar")
options(scipen = 999)
fisheries_clean <- read_csv("data/fisheries_clean.csv")
summary(fisheries_clean)
glimpse(fisheries_clean)
summary(fisheries_clean)
fisheries_clean <- fisheries_clean %>%
mutate(across(c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status)))
fisheries_clean %>%
mutate(across(c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor()))
mutate(across(c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor)
fisheries_clean %>%
library("tidyverse")
library("janitor")
#library("naniar")
options(scipen = 999)
fisheries_clean <- read_csv("data/fisheries_clean.csv")
glimpse(fisheries_clean)
summary(fisheries_clean)
fisheries_clean %>%
mutate(across(c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor))
fisheries_clean <- fisheries_clean %>%
mutate(across(c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor))
fisheries_clean %>%
distinct(country)
fisheries_clean %>%
count(distinct(country))
fisheries_clean %>%
distinct(country)
fisheries_clean %>%
count(country)
distinct
fisheries_clean %>%
distinct(country)
fisheries_clean %>%
count(country)
fisheries_clean %>%
n_distinct(country)
fisheries_clean %>%
n_distinct(country)
fisheries_clean %>%
n_distinct(country)
fisheries_clean %>%
n_distinct(country)
fisheries_clean %>%
n_distinct(country)
fisheries_clean %>%
n_distinct(country)
fisheries_clean %>%
n_distinct(fisheries_clean$country)
distinct
fisheries_clean %>%
distinct(country)
fisheries_clean %>%
count(country)
fisheries_clean %>%
distinct(country)
fisheries_clean %>%
n_distinct(country)
fisheries_clean %>%
summarize(distnct_count=n_distinct(country))
fisheries_clean %>%
group_by(common_name, taxonomic_code)
fisheries_clean %>%
group_by(common_name, taxonomic_code) %>%
summarize(count=n_distinct())
fisheries_clean %>%
group_by(common_name, taxonomic_code) %>%
summarize(count=n_distinct(common_name))
fisheries_clean %>%
summarize(count=n_distinct(common_name))
fisheries_clean %>%
summarize(count=~n_distinct(.x))
fisheries_clean %>%
summarize(counts=~n_distinct(.x))
fisheries_clean %>%
summarize(count=n_distinct(common_name))
fisheries_clean %>%
summarize(count=n_distinct(.))
common_name
fisheries_clean %>%
summarize(count=n_distinct(common_name))
fisheries_clean %>%
summarize(count=n_distinct(taxonomic_code))
fisheries_clean
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country) %>%
```
fisheries_clean %>%
filter(period=="2023")
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country)
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country) %>%
summarize(overall_catch=sum(catch))
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country)
%>%
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country) %>%
summarize(overall_catch=sum(catch))
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country) %>%
summarize(overall_catch=sum(catch)) %>%
arrange(desc(overall_catch))
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country) %>%
summarize(overall_catch=sum(catch)) %>%
arrange(desc(overall_catch)) %>%
head(n-5)
fisheries_clean %>%
filter(period=="2023") %>%
group_by(country) %>%
summarize(overall_catch=sum(catch)) %>%
arrange(desc(overall_catch)) %>%
head(n=5)
fisheries_clean %>%
filter(period=="2023") %>%
group_by(common_name)
fisheries_clean %>%
filter(period=="2023") %>%
group_by(common_name) %>%
summarize(n_caught=sum(catch))
fisheries_clean %>%
filter(period=="2023") %>%
group_by(common_name) %>%
summarize(n_caught=sum(catch)) %>%
arrange(desc(n_caught)) %>%
head(n=10)
fisheries_clean %>%
filter(period=="2023", common_name=="Alaska pollock(=Walleye poll.)")
fisheries_clean %>%
filter(period=="2023", common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(country) %>%
summarize(tot_catch=sum(catc))
fisheries_clean %>%
filter(period=="2023", common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(country) %>%
summarize(tot_catch=sum(catch))
fisheries_clean %>%
filter(period=="2023", common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(country) %>%
summarize(tot_catch=sum(catch)) %>%
arrange(desc(tot_catch))
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(period) %>%
summarize(tot_catch=sum(catch))
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period, y=tot_catch))+
geom_bar()
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period))+
geom_()
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period))+
geom_bar()
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
```
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(period) %>%
summarize(tot_catch=sum(catch))
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)") %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period, y=tot_catch))+
geom_col()
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period, y=tot_catch))+
geom_col()+
labs(title="Global Catch of Alaska Pollock 2013-2023")
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period==c("2013", "2014", "2015")) %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period, y=tot_catch))+
geom_col()+
labs(title="Global Catch of Alaska Pollock 2013-2023")
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
mutate(period, as.factor())
fisheries_clean %>%
mutate(period, as.numeric())
fisheries_clean %>%
mutate(period, as.numeric)
fisheries_clean %>%
mutate(period=as.numeric)
fisheries_clean %>%
mutate(period, as.numeric)
fisheries_clean %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period, y=tot_catch))+
geom_col()+
labs(title="Global Catch of Alaska Pollock 2013-2023")
fisheries_clean %>%
mutate(across(c(period), as.numeric))
fisheries_clean %>%
mutate(across(c(period), as.numeric)) %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
mutate(across(c(period), as.factor))
fisheries_clean %>%
mutate(across(c(period), as.numeric)) %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
mutate(across(c(period), as.factor)) %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period, y=tot_catch))+
geom_col()+
labs(title="Global Catch of Alaska Pollock 2013-2023")
fisheries_clean %>%
mutate(across(c(period), as.numeric)) %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
mutate(across(c(period), as.factor))
fisheries_clean %>%
mutate(across(c(period), as.numeric)) %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
mutate(across(c(period), as.factor)) %>%
group_by(period) %>%
summarize(tot_catch=sum(catch)) %>%
ggplot(aes(x=period, y=tot_catch))+
geom_col()+
labs(title="Global Catch of Alaska Pollock 2013-2023")
fisheries_clean %>%
mutate(across(c(period), as.numeric)) %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
mutate(across(c(period), as.factor)) %>%
group_by(period)
fisheries_clean %>%
mutate(across(c(period), as.numeric)) %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013) %>%
mutate(across(c(period), as.factor))
fisheries_clean %>%
mutate(across(c(period), as.numeric)) %>%
filter(common_name=="Alaska pollock(=Walleye poll.)", period>=2013)
fisheries_clean %>%
mutate(across(c(period), as.numeric))
